/**
 * Lux Documentation Theme
 * Pure monochrome - Vercel/Linear style
 * Values aligned with @luxfi/brand
 */

@import "tailwindcss";
@import "fumadocs-ui/style.css";

@custom-variant dark (&:is(.dark *));

@theme inline {
  --breakpoint-3xl: 1600px;
  --breakpoint-4xl: 2000px;
  --font-sans: var(--font-geist-sans), system-ui, sans-serif;
  --font-mono: var(--font-geist-mono), monospace;
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  --color-destructive: var(--destructive);
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);
  /* Custom shadows */
  --shadow-soft: 0 0 0 1px rgba(255,255,255,0.08), 0 20px 60px rgba(0,0,0,0.55);
  --shadow-soft-hover: 0 0 0 1px rgba(255,255,255,0.14), 0 24px 80px rgba(0,0,0,0.60);
  --shadow-soft-light: 0 0 0 1px rgba(0,0,0,0.06), 0 20px 60px rgba(0,0,0,0.08);
  --shadow-soft-light-hover: 0 0 0 1px rgba(0,0,0,0.10), 0 24px 80px rgba(0,0,0,0.12);
}

/* Light mode - Pure white */
:root {
  --radius: 0.5rem;
  --background: hsl(0, 0%, 100%);
  --foreground: hsl(0, 0%, 9%);
  --card: hsl(0, 0%, 100%);
  --card-foreground: hsl(0, 0%, 9%);
  --popover: hsl(0, 0%, 100%);
  --popover-foreground: hsl(0, 0%, 9%);
  --primary: hsl(0, 0%, 9%);
  --primary-foreground: hsl(0, 0%, 100%);
  --secondary: hsl(0, 0%, 96%);
  --secondary-foreground: hsl(0, 0%, 9%);
  --muted: hsl(0, 0%, 96%);
  --muted-foreground: hsl(0, 0%, 45%);
  --accent: hsl(0, 0%, 96%);
  --accent-foreground: hsl(0, 0%, 9%);
  --destructive: hsl(0, 84%, 60%);
  --border: hsl(0, 0%, 90%);
  --input: hsl(0, 0%, 90%);
  --ring: hsl(0, 0%, 64%);

  /* Fumadocs overrides */
  --color-fd-background: hsl(0, 0%, 100%);
  --color-fd-foreground: hsl(0, 0%, 9%);
  --color-fd-muted: hsl(0, 0%, 96%);
  --color-fd-muted-foreground: hsl(0, 0%, 45%);
  --color-fd-popover: hsl(0, 0%, 100%);
  --color-fd-popover-foreground: hsl(0, 0%, 9%);
  --color-fd-card: hsl(0, 0%, 100%);
  --color-fd-card-foreground: hsl(0, 0%, 9%);
  --color-fd-border: hsl(0, 0%, 90%);
  --color-fd-primary: hsl(0, 0%, 9%);
  --color-fd-primary-foreground: hsl(0, 0%, 100%);
  --color-fd-secondary: hsl(0, 0%, 96%);
  --color-fd-secondary-foreground: hsl(0, 0%, 9%);
  --color-fd-accent: hsl(0, 0%, 96%);
  --color-fd-accent-foreground: hsl(0, 0%, 9%);
  --color-fd-ring: hsl(0, 0%, 64%);
}

/* Dark mode - Pure black */
.dark {
  --background: hsl(0, 0%, 0%);
  --foreground: hsl(0, 0%, 98%);
  --card: hsl(0, 0%, 4%);
  --card-foreground: hsl(0, 0%, 98%);
  --popover: hsl(0, 0%, 4%);
  --popover-foreground: hsl(0, 0%, 98%);
  --primary: hsl(0, 0%, 98%);
  --primary-foreground: hsl(0, 0%, 4%);
  --secondary: hsl(0, 0%, 10%);
  --secondary-foreground: hsl(0, 0%, 98%);
  --muted: hsl(0, 0%, 8%);
  --muted-foreground: hsl(0, 0%, 55%);
  --accent: hsl(0, 0%, 12%);
  --accent-foreground: hsl(0, 0%, 98%);
  --destructive: hsl(0, 62%, 50%);
  --border: hsl(0, 0%, 15%);
  --input: hsl(0, 0%, 15%);
  --ring: hsl(0, 0%, 36%);

  /* Fumadocs overrides */
  --color-fd-background: hsl(0, 0%, 0%);
  --color-fd-foreground: hsl(0, 0%, 98%);
  --color-fd-muted: hsl(0, 0%, 8%);
  --color-fd-muted-foreground: hsl(0, 0%, 55%);
  --color-fd-popover: hsl(0, 0%, 4%);
  --color-fd-popover-foreground: hsl(0, 0%, 98%);
  --color-fd-card: hsl(0, 0%, 4%);
  --color-fd-card-foreground: hsl(0, 0%, 98%);
  --color-fd-border: hsl(0, 0%, 15%);
  --color-fd-primary: hsl(0, 0%, 98%);
  --color-fd-primary-foreground: hsl(0, 0%, 4%);
  --color-fd-secondary: hsl(0, 0%, 10%);
  --color-fd-secondary-foreground: hsl(0, 0%, 98%);
  --color-fd-accent: hsl(0, 0%, 12%);
  --color-fd-accent-foreground: hsl(0, 0%, 98%);
  --color-fd-ring: hsl(0, 0%, 36%);
}

@layer base {
  /* Reset border styles - prevent visible borders on all elements */
  *,
  ::before,
  ::after {
    border-width: 0;
    border-style: solid;
    border-color: var(--border);
  }

  /* Ensure SVGs respect their container sizes */
  svg {
    display: block;
    flex-shrink: 0;
  }

  /* Refined selection - matches landing page */
  ::selection {
    background: rgba(255, 255, 255, 0.18);
  }

  :root ::selection {
    background: rgba(0, 0, 0, 0.12);
  }

  html {
    @apply scroll-smooth antialiased;
  }

  body {
    font-synthesis-weight: none;
    text-rendering: optimizeLegibility;
  }
}

/* Subtle grid background - Vercel/Linear style */
.lux-grid {
  background-image:
    linear-gradient(to right, rgba(255, 255, 255, 0.04) 1px, transparent 1px),
    linear-gradient(to bottom, rgba(255, 255, 255, 0.04) 1px, transparent 1px);
  background-size: 56px 56px;
  mask-image: radial-gradient(ellipse at top, rgba(0, 0, 0, 1) 35%, rgba(0, 0, 0, 0) 72%);
  -webkit-mask-image: radial-gradient(ellipse at top, rgba(0, 0, 0, 1) 35%, rgba(0, 0, 0, 0) 72%);
}

:root .lux-grid {
  background-image:
    linear-gradient(to right, rgba(0, 0, 0, 0.04) 1px, transparent 1px),
    linear-gradient(to bottom, rgba(0, 0, 0, 0.04) 1px, transparent 1px);
}

/* Noise overlay for depth */
.lux-noise::before {
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;
  background-image: url("data:image/svg+xml,%3Csvg%20xmlns%3D%27http%3A//www.w3.org/2000/svg%27%20width%3D%27160%27%20height%3D%27160%27%3E%0A%3Cfilter%20id%3D%27n%27%3E%3CfeTurbulence%20type%3D%27fractalNoise%27%20baseFrequency%3D%27.8%27%20numOctaves%3D%274%27%20stitchTiles%3D%27stitch%27/%3E%3C/filter%3E%0A%3Crect%20width%3D%27160%27%20height%3D%27160%27%20filter%3D%27url%28%23n%29%27%20opacity%3D%27.35%27/%3E%3C/svg%3E");
  opacity: 0.06;
  mix-blend-mode: overlay;
  z-index: 0;
}

/* Status badges - monochrome with dot indicators */
.status-draft {
  @apply inline-flex items-center gap-1.5 rounded-full border border-white/10 bg-black/30 px-2.5 py-1 text-xs font-medium text-white/70;
}
.status-draft::before {
  content: "";
  @apply h-1.5 w-1.5 rounded-full bg-white/50;
}

.status-review {
  @apply inline-flex items-center gap-1.5 rounded-full border border-white/10 bg-black/30 px-2.5 py-1 text-xs font-medium text-white/70;
}
.status-review::before {
  content: "";
  @apply h-1.5 w-1.5 rounded-full bg-white/60;
}

.status-final {
  @apply inline-flex items-center gap-1.5 rounded-full border border-white/10 bg-black/30 px-2.5 py-1 text-xs font-medium text-white/80;
}
.status-final::before {
  content: "";
  @apply h-1.5 w-1.5 rounded-full bg-white;
}

.status-withdrawn {
  @apply inline-flex items-center gap-1.5 rounded-full border border-white/10 bg-black/30 px-2.5 py-1 text-xs font-medium text-white/50;
}
.status-withdrawn::before {
  content: "";
  @apply h-1.5 w-1.5 rounded-full bg-white/30;
}

.status-stagnant {
  @apply inline-flex items-center gap-1.5 rounded-full border border-white/10 bg-black/30 px-2.5 py-1 text-xs font-medium text-white/50;
}
.status-stagnant::before {
  content: "";
  @apply h-1.5 w-1.5 rounded-full bg-white/30;
}

/* Light mode status badges */
:root .status-draft {
  @apply border-black/10 bg-white text-black/60;
}
:root .status-draft::before {
  @apply bg-black/40;
}

:root .status-review {
  @apply border-black/10 bg-white text-black/60;
}
:root .status-review::before {
  @apply bg-black/50;
}

:root .status-final {
  @apply border-black/10 bg-white text-black/80;
}
:root .status-final::before {
  @apply bg-black;
}

:root .status-withdrawn {
  @apply border-black/10 bg-white text-black/40;
}
:root .status-withdrawn::before {
  @apply bg-black/30;
}

:root .status-stagnant {
  @apply border-black/10 bg-white text-black/40;
}
:root .status-stagnant::before {
  @apply bg-black/30;
}

/* Type badges - monochrome */
.type-standards,
.type-meta,
.type-informational {
  @apply inline-flex items-center rounded-full border border-white/10 bg-black/30 px-2.5 py-1 text-xs font-medium text-white/70;
}

:root .type-standards,
:root .type-meta,
:root .type-informational {
  @apply border-black/10 bg-black/5 text-black/70;
}

/* Card styles with soft shadows */
.lux-card {
  @apply rounded-2xl border border-white/10 bg-white/5 p-5 transition-all;
  box-shadow: var(--shadow-soft);
}

.lux-card:hover {
  @apply border-white/15;
  box-shadow: var(--shadow-soft-hover);
}

:root .lux-card {
  @apply border-black/10 bg-black/[0.02];
  box-shadow: var(--shadow-soft-light);
}

:root .lux-card:hover {
  @apply border-black/15;
  box-shadow: var(--shadow-soft-light-hover);
}

/* Inset shadow for depth on icons/badges */
.lux-inset {
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.06);
}

:root .lux-inset {
  box-shadow: inset 0 1px 0 rgba(0, 0, 0, 0.04);
}

/* Button styles */
.lux-btn-primary {
  @apply inline-flex items-center justify-center rounded-xl bg-white px-5 py-3 text-sm font-semibold text-black transition-opacity hover:opacity-90;
}

:root .lux-btn-primary {
  @apply bg-black text-white;
}

.lux-btn-secondary {
  @apply inline-flex items-center justify-center rounded-xl border border-white/10 bg-white/5 px-5 py-3 text-sm font-semibold text-white transition-colors hover:border-white/15 hover:bg-white/10;
}

:root .lux-btn-secondary {
  @apply border-black/10 bg-black/5 text-black hover:border-black/15 hover:bg-black/10;
}

@utility no-scrollbar {
  -ms-overflow-style: none;
  scrollbar-width: none;
  &::-webkit-scrollbar {
    display: none;
  }
}

/* Layout spacing */
:root {
  --fd-sidebar-width: 280px;
  --fd-content-width: 800px;
}

/* Refined fumadocs components */
.dark [data-rehype-pretty-code-figure] pre {
  @apply border-white/10 bg-white/[0.02];
}

[data-rehype-pretty-code-figure] pre {
  @apply border-black/10 bg-black/[0.02];
}

/* Sidebar refinements */
.dark [data-fd-sidebar] {
  @apply border-white/10;
}

[data-fd-sidebar] {
  @apply border-black/10;
}

/* Link styles */
.dark a:not([class]) {
  @apply text-white/80 underline-offset-2 hover:text-white;
}

a:not([class]) {
  @apply text-black/80 underline-offset-2 hover:text-black;
}

/* Prose refinements for dark mode */
.dark .prose {
  --tw-prose-body: hsl(0, 0%, 70%);
  --tw-prose-headings: hsl(0, 0%, 98%);
  --tw-prose-links: hsl(0, 0%, 98%);
  --tw-prose-bold: hsl(0, 0%, 98%);
  --tw-prose-counters: hsl(0, 0%, 55%);
  --tw-prose-bullets: hsl(0, 0%, 40%);
  --tw-prose-hr: hsl(0, 0%, 15%);
  --tw-prose-quotes: hsl(0, 0%, 80%);
  --tw-prose-quote-borders: hsl(0, 0%, 20%);
  --tw-prose-captions: hsl(0, 0%, 55%);
  --tw-prose-code: hsl(0, 0%, 98%);
  --tw-prose-pre-code: hsl(0, 0%, 80%);
  --tw-prose-pre-bg: hsl(0, 0%, 4%);
  --tw-prose-th-borders: hsl(0, 0%, 20%);
  --tw-prose-td-borders: hsl(0, 0%, 15%);
}
